---
title: Optimistic Transactions
description: An experimental hook for optimistic transaction execution using Abstract's unstable_sendRawTransactionWithDetailedOutput endpoint to get instant transaction feedback.
---

<ComponentPreview name="use-optimistic-write-contract" />

## Installation

```bash
npx shadcn@latest add "https://build.abs.xyz/r/use-optimistic-write-contract.json"
```

## Usage

```tsx
"use client";

import { useOptimisticWriteContract } from "@/hooks/use-optimistic-write-contract";
import { parseAbi } from "viem";

export default function MintButton() {
  const { writeContract, isPending } = useOptimisticWriteContract();

  const handleMint = () => {
    writeContract({
      abi: parseAbi(["function mint(address,uint256) external"]),
      address: "0xC4822AbB9F05646A9Ce44EFa6dDcda0Bf45595AA",
      functionName: "mint",
      args: ["0x273B3527BF5b607dE86F504fED49e1582dD2a1C6", BigInt(1)],
      onSuccess: (data, startTime) => {
        console.log(`Transaction confirmed in ${Date.now() - startTime}ms`);
      },
    });
  };

  return (
    <button onClick={handleMint} disabled={isPending}>
      {isPending ? "Minting..." : "Mint Token"}
    </button>
  );
}
```

## What's included

This command installs the following files:

- `/hooks`
  - [`use-optimistic-write-contract.ts`](#use-optimistic-write-contractts) - Main hook for optimistic contract writes

- `/types`
  - [`abstract-api.ts`](#abstract-apits) - Abstract API client for optimistic transactions
  - [`types.ts`](#typests) - TypeScript type definitions

### `use-optimistic-write-contract.ts`

The main hook that provides optimistic contract write functionality with instant feedback.

<ComponentSource src="registry/new-york/blocks/use-optimistic-write-contract/hooks/use-optimistic-write-contract.ts" />

### `abstract-api.ts`

API client for Abstract's optimistic transaction endpoint with error handling and user-friendly error messages.

<ComponentSource src="registry/new-york/blocks/use-optimistic-write-contract/lib/abstract-api.ts" />

### `types/optimistic-transactions.ts`

TypeScript type definitions for optimistic transaction responses and API structures.

<ComponentSource src="/types/optimistic-transactions.ts" />

